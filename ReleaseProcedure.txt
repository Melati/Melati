Hello,

The scripts in this directory provide a means of building melati 
and poem using Ant. 

The original ant script was written by kimptoc@techie.com.

HOW TO USE

You need the latest version of ant (1.5.1), but this is included, 
you may need to define $ANT_HOME as this directory. 

If you just type ant you will be given a list of available options. 

To build a distributable copy of Melati just type:

ant all


It will create a directory
   .../built/ in which the distribution is created.

To build a jar file of all Melati code, under unix, just use 
   ant jar

Assuming you have melati installed in a directory like 
    .../src/org/melati/...

It will create a directory
   .../dist/

Which will contain all the compiled classes, and additional files (*.wm, *.html, *.gif and *.js)

And a directory
   .../built/

Which will contain the melati jar file, the javadocs, 
a zip file of the sources,
and additional files (*.wm, *.html, *.gif and *.js)



To just compile the code, but not generate the jar file
   sh build-melati.sh compile


To generate the javadoc report
   sh build-melati.sh javadocs


To remove all the compiled code and generated jar files
   sh build-melati.sh clean


NOTE
The above assumed you were working on unix... 
There is a also a build-melati.bat script that works on NT - although it has not been tested (VOLUNTEERS?)


MAKING A RELEASE

Once you have the scripts working there are a few things you should do
to create a release:

1.  Change the version number in build-melati.xml
2.  If your change requires upgrade action by the user make a note
    in the Upgrading section of melati/README.html
3.  Change Last Updated and Updated By and add a new paragraph to 
    melati/RELEASE-NOTES.html
4.  Add a paragraph about this release to melati/site/Releases.html
5.  Replace Release paragraph with one above in
    melati/site/Download.html
6.  CVS commit all of the above
7.  CVS tag this release
8.  Build melati (again)
9.  Upload jars and zips to http://www.melati.org/
    scp *.zip www.melati.org:/home/apache/share/htdocs/melati/download/
    scp *.gz www.melati.org:/home/apache/share/htdocs/melati/download/
10. Update website
    cd /inst/melati/org/melati 
    cvs update
11. Done - well done



$Id$








