<?xml version="1.0"?>

<document>

  <properties>
    <title>Melati - Java SQL Website Development Engine</title>
    <author email="timp AT paneris.org">Tim Pizey</author>
    <keywords>
      Persistence, Java, SQL, Database, Templates, Object Relational Mapping,
      Objects, Object Oriented, J2EE replacement
    </keywords>
  </properties>

  <body>


<!--
<p align="center">
 <font size="-1"><i>
This page last updated: $Date$ $Author$
 </i></font>
</p>
-->
  
<section name=" Usage ">
<p>
The Melati plugin can be used to run a Melati Application from within Maven. 
</p>
<p>
You might want to use the <tt>exec-maven-plugin</tt> instead.
</p>
<subsection name=" Command line ">
<p>
At the command line type:
<pre>
mvn org.melati:maven-melati-plugin:1.0-SNAPSHOT:run
</pre>
</p>
</subsection>
<subsection name=" Shortening the Command Line ">
<p>
In order to shorten the amount of typing needed on the command line, 
you need to add the plugin's group ID to the list of group IDs 
searched by default. 
</p>
<p>
To do this, you need to add the following to your 
<tt>\${user.home}/.m2/settings.xml</tt> file:
<pre>
&lt;pluginGroups&gt;
  &lt;pluginGroup>org.melati&lt;/pluginGroup&gt;
&lt;/pluginGroups&gt;
</pre>
</p>
<p>
At this point, you can run the plugin with:
<pre>
mvn melati:run
</pre>
</p>
</subsection>
<subsection name=" Lifecycle Configuration ">
<p>
To add  it to the build section of your POM:
<pre>
   &lt;plugins&gt;
    &lt;plugin&gt;
     &lt;groupId&gt;org.melati&lt;/groupId&gt;
     &lt;artifactId&gt;maven-melati-plugin&lt;/artifactId&gt;
     &lt;executions&gt;
       &lt;execution&gt;
         &lt;phase&gt;verify&lt;/phase&gt;
         &lt;goals&gt;
           &lt;goal&gt;run&lt;/goal&gt;
         &lt;/goals&gt;
       &lt;/execution&gt;
     &lt;/executions&gt;
     &lt;configuration&gt;
       &lt;appName&gt;your.app.Name&lt;/appName&gt;
       &lt;db&gt;yourDbName&lt;/db&gt;
       &lt;table&gt;yourDbName&lt;/table&gt;
       &lt;troid&gt;yourTroid&lt;/troid&gt;
     &lt;/configuration&gt;
    &lt;/plugin&gt;
   &lt;/plugins&gt;
</pre>
</p>
</subsection>

<subsection name=" Classpath Configuration ">
<p>
Maven plugins run with their own classpath, defined by their own POM. 
</p>
<p>
It is not sufficient to add your artifact as a dependency in your main POM, 
you also have to add it to the plugin invocation section:
<pre>

   &lt;plugins&gt;
    &lt;plugin&gt;
     &lt;groupId&gt;org.melati&lt;/groupId&gt;
     &lt;artifactId&gt;maven-melati-plugin&lt;/artifactId&gt;
     &lt;executions&gt;
       &lt;execution&gt;
         &lt;phase&gt;verify&lt;/phase&gt;
         &lt;goals&gt;
           &lt;goal&gt;run&lt;/goal&gt;
         &lt;/goals&gt;
       &lt;/execution&gt;
     &lt;/executions&gt;
     &lt;configuration&gt;
       &lt;appName&gt;your.app.Name&lt;/appName&gt;
       &lt;db&gt;yourDbName&lt;/db&gt;
       &lt;table&gt;yourDbName&lt;/table&gt;
       &lt;troid&gt;yourTroid&lt;/troid&gt;
     &lt;/configuration&gt;
     &lt;dependencies&gt;
      &lt;dependency&gt;
       &lt;groupId&gt;org.melati&lt;/groupId&gt;
       &lt;artifactId>MelatiSite&lt;/artifactId&gt;
       &lt;version&gt;0.1&lt;/version&gt;
       &lt;scope&gt;runtime&lt;/scope&gt;
      &lt;/dependency&gt;
     &lt;/dependencies&gt;
    &lt;/plugin&gt;
   &lt;/plugins&gt;

</pre>
</p>
</subsection>
</section>
</body>
</document>












